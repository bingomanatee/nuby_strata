var mock = require('../node_modules/strata/lib/mock.js');
var strata = require('../node_modules/strata/lib');
var util = require('util');

var app;
module.exports = {


    setUp:function (setup_callback) {
        app = new strata.Builder();

        app.get('/foo/:id', function (e, c) {
            c(200, {}, 'foo id')
        });
        app.get('/foo/:id\.:format', function (e, c) {
            c(200, {}, 'foo id json')
        });

        setup_callback();
    },

    test_routing:function (test) {
        mock.request('/foo/1', app, function (e, s, h, b) {
            test.equals(b, 'foo id');
            test.done();
        });
    },

    test_routing_2: function(test){
        mock.request('/foo/1.json', app, function (e, s, h, b) {
            test.equals(b, 'foo id json');
            test.done();
        });
    }

}