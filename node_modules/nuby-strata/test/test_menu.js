var nuby_strata = require('./../lib/index.js');
var util = require('util');
var menu_item;

module.exports = {
    setUp:function (setup_callback) {
        var menu_data = require('./../test_resources/menu');
        console.log('data: %j', menu_data);
        menu_item = nuby_strata.menu.create(menu_data);
        setup_callback();
    },

    test_menu:function (test) {
       var menu_rendered = menu_item.render({});
       menu_rendered = menu_rendered.replace(/\n\r/gi, '');
        test.equals(menu_rendered, '<div class="menu"><a href="/item1.html" class="menu_item">ITEM1</a><div class="menu_children"><div class="menu"><a href="/item2.html" class="menu_item">ITEM2</a></div>\n<div class="menu"><a href="/item3.html" class="menu_item">ITEM3</a></div></div></div>',
        'output of menu');
        test.done();
    }
}