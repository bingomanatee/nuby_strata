var nuby_strata = require('../../../../../../lib');
var strata = require('../../../../../../node_modules/strata/lib');
var smr = nuby_strata.render;
var util = require('util');

module.exports = {

    handle:function (type) {
        var def_handler = nuby_strata.loader.controller_loader('default');
        return def_handler.scaffolding['default'].handle(this, type);
    },

    data:function (env, callback) {
        callback(null, {foo:1});
    },


    render:function (params, callback) {
        return smr(module.exports._view_path, params, callback);
    },

    _view_path:__dirname + '/view.html',

    error:function (params, callback) {
        strata.redirect.forward(env, callback, '/');
    },

    can:function (task, env, if_can, if_block) {
        if_can(env);
    },


    get_route:function () {
        return '/' + this.controller.name;
    },

    name:'index'

}