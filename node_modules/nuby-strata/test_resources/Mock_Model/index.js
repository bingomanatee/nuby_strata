function Mock_Model(data) {
    this._data = data;

}

Mock_Model.prototype = {

    get_id:function (id, callback) {
        var out = false;

        var self = this;

        this._data.forEach(function (item) {
            if (item.id == id) {
                out = item;
            }
        })
        if (out) {
            callback(null, out);
        } else {
            callback(new Error('Cannot find id ' + id));
        }
    },

    update: function(item, callback, existing){
        var changed = false;
        var model = this;
        this._data.forEach(function(old_item, i){
            if ((!changed) && (old_item.id == item.id)){
                model._data[i] = item;
                changed = true;
            }
        });

        if (changed){
            callback(null, item);
        } else {
            callback(new Error('cannot find ' + JSON.stringify(item)));
        }
    }

}

module.exports = Mock_Model;