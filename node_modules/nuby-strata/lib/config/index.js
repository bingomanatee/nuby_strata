function Config(root, port, db_name) {
    this.ROOT = root;
    var dict_path = root + '/dict';
    if (!path.existsSync(dict_path)) {
        throw new Error(util.format('%s: dict path %s does not exist', __dirname, dict_path));
    }
    this.lang = new Lang(dict_path, this.default_lang);
    if (port){
        this.app_config.port = port;
    }
    this.app_path = root + '/apps';
    if (db_name){
        this.MONGODB.DB_NAME = db_name;
    }
}

Config.prototype = {
    root:'',
    MONGODB:{
        SERVER_NAME:'localhost',
        DB_NAME:'mvc_unit_test',
        PORT:27017
    },
    default_lang:'us_en',
    app_config: {port: 3000}
}

module.exports = {
    Config:Config,
    create:function (root, port, db_name) {
        return new Config(root, port, db_name);
    }
}